/*
 * tmc5160.h
 *
 *  Created on: 23 Feb. 2023
 *      Author: nelson
 */

#ifndef INC_TMC5160_H_
#define INC_TMC5160_H_

/* Exported constants --------------------------------------------------------*/
// Register memory map
// Base addresses
#define TMC5160_GEN_CONFIG_BASE			0x00U
#define TMC5160_VDDFC_BASE				0x10U
#define TMC5160_RAMP_GEN_BASE			0x20U
#define TMC5160_ENC_BASE				0x38U
#define TMC5160_MOTOR_DRIVER_BASE		0x60U

// General configuration registers
#define TMC5160_GCONF					(TMC5160_GEN_CONFIG_BASE + 0x00U)
#define TMC5160_GSTAT					(TMC5160_GEN_CONFIG_BASE + 0x01U)
#define TMC5160_IFCNT					(TMC5160_GEN_CONFIG_BASE + 0x02U)
#define TMC5160_SLAVECONF				(TMC5160_GEN_CONFIG_BASE + 0x03U)
#define TMC5160_IOIN_OUTPUT				(TMC5160_GEN_CONFIG_BASE + 0x04U)
#define TMC5160_X_COMPARE				(TMC5160_GEN_CONFIG_BASE + 0x05U)
#define TMC5160_OTP_PROG				(TMC5160_GEN_CONFIG_BASE + 0x06U)
#define TMC5160_OTP_READ				(TMC5160_GEN_CONFIG_BASE + 0x07U)
#define TMC5160_FACTORY_CONF			(TMC5160_GEN_CONFIG_BASE + 0x08U)
#define TMC5160_SHORT_CONF				(TMC5160_GEN_CONFIG_BASE + 0x09U)
#define TMC5160_DRV_CONF				(TMC5160_GEN_CONFIG_BASE + 0x0AU)
#define TMC5160_GLOBAL_SCALER			(TMC5160_GEN_CONFIG_BASE + 0x0BU)
#define TMC5160_OFFSET_READ				(TMC5160_GEN_CONFIG_BASE + 0x0CU)

// Velocity dependent driver feature control registers
#define TMC5160_IHOLD_IRUN				(TMC5160_VDDFC_BASE + 0x00U)
#define TMC5160_TPOWER_DOWN				(TMC5160_VDDFC_BASE + 0x01U)
#define TMC5160_TSTEP					(TMC5160_VDDFC_BASE + 0x02U)
#define TMC5160_TPWMTHRS				(TMC5160_VDDFC_BASE + 0x03U)
#define TMC5160_TCOOLTHRS				(TMC5160_VDDFC_BASE + 0x04U)
#define TMC5160_THIGH					(TMC5160_VDDFC_BASE + 0x05U)

// Ramp generator registers
// Motion control set
#define TMC5160_RAMPMODE				(TMC5160_RAMP_GEN_BASE + 0x00U)
#define TMC5160_XACTUAL					(TMC5160_RAMP_GEN_BASE + 0x01U)
#define TMC5160_VACTUAL					(TMC5160_RAMP_GEN_BASE + 0x02U)
#define TMC5160_VSTART					(TMC5160_RAMP_GEN_BASE + 0x03U)
#define TMC5160_A1						(TMC5160_RAMP_GEN_BASE + 0x04U)
#define TMC5160_V1						(TMC5160_RAMP_GEN_BASE + 0x05U)
#define TMC5160_AMAX					(TMC5160_RAMP_GEN_BASE + 0x06U)
#define TMC5160_VMAX					(TMC5160_RAMP_GEN_BASE + 0x07U)
#define TMC5160_DMAX					(TMC5160_RAMP_GEN_BASE + 0x08U)
#define TMC5160_D1						(TMC5160_RAMP_GEN_BASE + 0x0AU)
#define TMC5160_VSTOP					(TMC5160_RAMP_GEN_BASE + 0x0BU)
#define TMC5160_TZEROWAIT				(TMC5160_RAMP_GEN_BASE + 0x0CU)
#define TMC5160_XTARGET					(TMC5160_RAMP_GEN_BASE + 0x0DU)

// Driver feature control set
#define TMC5160_VDCMIN					(TMC5160_RAMP_GEN_BASE + 0x13U)
#define TMC5160_SW_MODE					(TMC5160_RAMP_GEN_BASE + 0x14U)
#define TMC5160_RAMP_STAT				(TMC5160_RAMP_GEN_BASE + 0x15U)
#define TMC5160_XLATCH					(TMC5160_RAMP_GEN_BASE + 0x16U)

// Encoder Registers
#define TMC5160_ENCMODE					(TMC5160_ENC_BASE + 0x00U)
#define TMC5160_X_ENC					(TMC5160_ENC_BASE + 0x01U)
#define TMC5160_ENC_CONST				(TMC5160_ENC_BASE + 0x02U)
#define TMC5160_ENC_STATUS				(TMC5160_ENC_BASE + 0x03U)
#define TMC5160_ENC_LATCH				(TMC5160_ENC_BASE + 0x04U)
#define TMC5160_ENC_DEVIATION			(TMC5160_ENC_BASE + 0x05U)

// Motor driver registers
#define TMC5160_MSLUT0					(TMC5160_MOTOR_DRIVER_BASE + 0x00U)
#define TMC5160_MSLUT1					(TMC5160_MOTOR_DRIVER_BASE + 0x01U)
#define TMC5160_MSLUT2					(TMC5160_MOTOR_DRIVER_BASE + 0x02U)
#define TMC5160_MSLUT3					(TMC5160_MOTOR_DRIVER_BASE + 0x03U)
#define TMC5160_MSLUT4					(TMC5160_MOTOR_DRIVER_BASE + 0x04U)
#define TMC5160_MSLUT5					(TMC5160_MOTOR_DRIVER_BASE + 0x05U)
#define TMC5160_MSLUT6					(TMC5160_MOTOR_DRIVER_BASE + 0x06U)
#define TMC5160_MSLUT7					(TMC5160_MOTOR_DRIVER_BASE + 0x07U)
#define TMC5160_MSLUTSEL				(TMC5160_MOTOR_DRIVER_BASE + 0x08U)
#define TMC5160_MSLUTSTART				(TMC5160_MOTOR_DRIVER_BASE + 0x09U)
#define TMC5160_MSCNT					(TMC5160_MOTOR_DRIVER_BASE + 0x0AU)
#define TMC5160_MSCURACT				(TMC5160_MOTOR_DRIVER_BASE + 0x0BU)
#define TMC5160_CHOPCONF				(TMC5160_MOTOR_DRIVER_BASE + 0x0CU)
#define TMC5160_COOLCONF				(TMC5160_MOTOR_DRIVER_BASE + 0x0DU)
#define TMC5160_DCCTRL					(TMC5160_MOTOR_DRIVER_BASE + 0x0EU)
#define TMC5160_DRV_STATUS				(TMC5160_MOTOR_DRIVER_BASE + 0x0FU)
#define TMC5160_PWMCONF					(TMC5160_MOTOR_DRIVER_BASE + 0x10U)
#define TMC5160_PWM_SCALE				(TMC5160_MOTOR_DRIVER_BASE + 0x11U)
#define TMC5160_PWM_AUTO				(TMC5160_MOTOR_DRIVER_BASE + 0x12U)
#define TMC5160_LOST_STEPS				(TMC5160_MOTOR_DRIVER_BASE + 0x13U)

#endif /* INC_TMC5160_H_ */
